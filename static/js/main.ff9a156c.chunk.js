(this["webpackJsonpreact-sudoku"]=this["webpackJsonpreact-sudoku"]||[]).push([[0],{20:function(e,t,n){e.exports=n(30)},27:function(e,t,n){},30:function(e,t,n){"use strict";n.r(t);var r=n(0),o=n.n(r),i=n(6),a=n.n(i),c=n(7),s=n(16),u=n(9),l=n(1),d=n(12),v=Object(l.range)(1,10),f=Object(l.range)(0,9),h=function(e,t,n,r){if(!Object(l.includes)(f,n)||!Object(l.includes)(f,r))throw new Error("rowNum or colNum are not in range");if(!Object(l.includes)(v,t))throw new Error("number is not in range");var o=function(e,t){if(!Object(l.includes)(f,t))throw new Error("rowNum not in range");return e[t]}(e,n),i=function(e,t){if(!Object(l.includes)(f,t))throw new Error("colNum not in range");return e.map((function(e){return e[t]}))}(e,r),a=function(e,t,n){if(!Object(l.includes)(f,t)||!Object(l.includes)(f,n))throw new Error("rowNum or colNum are not in range");for(var r=t-t%3,o=n-n%3,i=[],a=0;a<3;a++){i[a]=i[a]||[];for(var c=0;c<3;c++)i[a].push(e[r+a][o+c])}return Object(l.flatten)(i)}(e,n,r);return!(Object(l.includes)(o,t)||Object(l.includes)(i,t)||Object(l.includes)(a,t))},p=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return 8!==t?[e,t+1]:8!==e?[e+1,0]:[0,0]},b=function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;if(Object(l.includes)(f,n)<0||Object(l.includes)(f,r)<0)throw new Error("rowNum or colNum are not in range");var o=n>=8&&r>=8;if(0!==t[n][r]&&!o){var i=p(n,r),a=Object(d.a)(i,2),c=a[0],s=a[1];return e(t,c,s)}for(var u=1;u<=9;u++)if(h(t,u,n,r)){t[n][r]=u;var v=p(n,r),b=Object(d.a)(v,2),g=b[0],w=b[1];if(!g&&!w)return!0;if(e(t,g,w))return!0}return t[n][r]=0,!1},g=[[8,0,0,4,0,6,0,0,7],[0,0,0,0,0,0,4,0,0],[0,1,0,0,0,0,6,5,0],[5,0,9,0,3,0,7,8,0],[0,0,0,0,7,0,0,0,0],[0,4,8,0,2,0,1,0,3],[0,5,2,0,0,0,0,9,0],[0,0,1,0,0,0,0,0,0],[3,0,0,9,0,2,0,0,5]],w=window.gridHistory||[],O={isSolved:!1,isEdited:!1};var m=Object(c.b)({grid:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Object(l.cloneDeep)(g),t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"INPUT_VALUE":var n=t.row,r=t.col,o=t.val,i=[].concat(Object(u.a)(e[n].slice(0,r)),[o],Object(u.a)(e[n].slice(r+1)));return w.push(e),[].concat(Object(u.a)(e.slice(0,n)),[i],Object(u.a)(e.slice(n+1)));case"SOLVE":var a=Object(l.cloneDeep)(g);return b(a),window.gridHistory=[],a;case"CLEAR":return window.gridHistory=[],Object(l.cloneDeep)(g);case"UNDO":var c=window.gridHistory.splice(w.length-1,1);return c[0];default:return e}},status:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Object(l.cloneDeep)(O),t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"INPUT_VALUE":return Object(l.assignIn)({},e,{isEdited:!0});case"SOLVE":return Object(l.assignIn)({},e,{isSolved:!0,isEdited:!0});case"CLEAR":return Object(l.assignIn)({},e,{isSolved:!1,isEdited:!1});case"UNDO":return window.gridHistory.length?e:Object(l.assignIn)({},e,{isEdited:!1});default:return e}}}),j=(n(27),n(2)),E=n(3),y=n(4),k=n(5),N=n(18),C=function(){return"hsl("+360*Math.random()+", 100%, 80%)"},S={"00":C(),"01":C(),"02":C(),10:C(),11:C(),12:C(),20:C(),21:C(),22:C()},U=function(e,t){var n=(~~(e/3)).toString(),r=(~~(t/3)).toString();return S[n+r]},A=function(e){Object(k.a)(n,e);var t=Object(y.a)(n);function n(){return Object(j.a)(this,n),t.apply(this,arguments)}return Object(E.a)(n,[{key:"componentWillMount",value:function(){var e=this.props.val;this.setState({isFixed:!!e})}},{key:"shouldComponentUpdate",value:function(e,t){return e.val!==this.props.val}},{key:"handleChange",value:function(e){var t=this.props,n=t.row,r=t.col,o=t.store,i=parseInt(e.target.value),a=""===e.target.value;([1,2,3,4,5,6,7,8,9].indexOf(i)>-1||a)&&o.dispatch(function(e,t,n){return{type:"INPUT_VALUE",row:e,col:t,val:n}}(n,r,a?0:i))}},{key:"render",value:function(){var e=this.props,t=e.row,n=e.col,r=e.val,i=e.isSolved,a=this.state.isFixed,c=o.a.createElement("input",{ref:"input",style:{backgroundColor:U(t,n)},className:a?"fixed":i?"result":"",disabled:a||i,value:r||"",onChange:this.handleChange});return o.a.createElement("td",null,i?o.a.createElement(N.a,{transitionName:"solved",transitionAppear:!0,transitionEnterTimeout:200,transitionLeaveTimeout:200,transitionAppearTimeout:200},c):c)}}]),n}(o.a.Component),T=function(e){Object(k.a)(n,e);var t=Object(y.a)(n);function n(){return Object(j.a)(this,n),t.apply(this,arguments)}return Object(E.a)(n,[{key:"render",value:function(){var e=this,t=this.props,n=t.grid,r=t.status.isSolved,i=function(t,n,i){return o.a.createElement(A,Object.assign({key:i,row:t,col:i,val:n,isSolved:r},e.props))};return o.a.createElement("table",null,o.a.createElement("tbody",null,n.map((function(t,n){return o.a.createElement("tr",{key:n},t.map(i.bind(e,n)))}))))}}]),n}(o.a.Component),L=function(e){Object(k.a)(n,e);var t=Object(y.a)(n);function n(){return Object(j.a)(this,n),t.apply(this,arguments)}return Object(E.a)(n,[{key:"componentDidMount",value:function(){var e=this;this.unsubscribe=this.props.store.subscribe((function(){e.forceUpdate()}))}},{key:"componentWillUnmount",value:function(){this.unsubscribe()}},{key:"render",value:function(){var e=this.props.store,t=e.getState(),n=t.grid,r=t.status,i=r.isSolved,a=r.isEdited;return o.a.createElement("div",null,o.a.createElement("button",{className:"undo",disabled:window.gridHistory&&!window.gridHistory.length,onClick:function(){return e.dispatch({type:"UNDO"})}},"\u293a Undo"),o.a.createElement("button",{className:"clear",disabled:!a,onClick:function(){return e.dispatch({type:"CLEAR"})}},"\u27f2 Clear"),o.a.createElement(T,Object.assign({grid:n,status:r},this.props)),o.a.createElement("button",{className:"check",disabled:i,onClick:function(){if(function(e){var t=Object(l.cloneDeep)(e);return b(t)}(n)){if(function(e){var t=Object(l.flatten)(e),n={};return t.map((function(e){return n[e]=n[e]?n[e]+1:1})),delete n[0],81===Object.keys(n).reduce((function(e,t){return e+n[t]}),0)}(n))return alert("Congratulations, you solved it!!");alert("This Sudoku is solvable, keep going !!")}else alert("This Sudoku is NOT solvable")}},"Check"),o.a.createElement("button",{className:"solve",onClick:function(){return e.dispatch({type:"SOLVE"})}},"Solve"))}}]),n}(o.a.Component),W=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function D(e,t){navigator.serviceWorker.register(e).then((function(e){e.onupdatefound=function(){var n=e.installing;null!=n&&(n.onstatechange=function(){"installed"===n.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See https://bit.ly/CRA-PWA."),t&&t.onUpdate&&t.onUpdate(e)):(console.log("Content is cached for offline use."),t&&t.onSuccess&&t.onSuccess(e)))})}})).catch((function(e){console.error("Error during service worker registration:",e)}))}var I=Object(c.c)(Object(c.a)(s.a),window.devToolsExtension?window.devToolsExtension():function(e){return e})(c.d)(m);a.a.render(o.a.createElement(L,{store:I}),document.getElementById("root")),function(e){if("serviceWorker"in navigator){if(new URL("/react-sudoku",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",(function(){var t="".concat("/react-sudoku","/service-worker.js");W?(!function(e,t){fetch(e,{headers:{"Service-Worker":"script"}}).then((function(n){var r=n.headers.get("content-type");404===n.status||null!=r&&-1===r.indexOf("javascript")?navigator.serviceWorker.ready.then((function(e){e.unregister().then((function(){window.location.reload()}))})):D(e,t)})).catch((function(){console.log("No internet connection found. App is running in offline mode.")}))}(t,e),navigator.serviceWorker.ready.then((function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://bit.ly/CRA-PWA")}))):D(t,e)}))}}()}},[[20,1,2]]]);
//# sourceMappingURL=main.ff9a156c.chunk.js.map